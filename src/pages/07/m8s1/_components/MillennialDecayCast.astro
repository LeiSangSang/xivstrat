---
import type { Time } from '@/lib/utils'
import { timeToSeconds } from '@/lib/utils'

import CastSection from '@/components/section/CastSection.astro'
import Badge from '@/components/Badge.astro'

import HowlingBlade from '../_components/HowlingBlade.astro'

interface Props {
  time?: Time
  base?: Time
}

const { time, base = 0 }: Props = Astro.props

const duration = 4.7

const damageApplyTime =
  time !== undefined
    ? timeToSeconds(time) + duration + 0.3 // 修正延迟，计算伤害生效时间
    : undefined

const millennialDecay = '千年の風化'
---

<CastSection start={time} base={base} duration={duration} ability={millennialDecay} target damage="170000">
  <HowlingBlade slot="source" />
  <Badge variant="purple"> AoE </Badge>
</CastSection>
